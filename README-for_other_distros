NAME
	modprobed_db - Store and recall every module probed on the system at will.

SYNOPSIS
	modprobed_db [options]

DESCRIPTION
	Modprobed_db is a useful utility for users wishing to build a minimal kernel via a "make localmodconfig" written by Steven Rostedt. In a nutshell, Rostedt's localmodconfig takes every module currently probed and adjusts the kernel's .config file to enable the corresponding selections for each one thus hardcoding them into the target kernel. This results in a system-specific, smaller kernel package and footprint as well as reduced compilation times.
	
	Modprobed_db simply logs every module ever probed on the target system to a text-based database and can recall them, that is modprobes them all, to provide substrate for the "make localmodconfig" described above.

OPTIONS
	list		Display to stdout the contents of the database defined in /etc/modprobed_db.conf.  Output is in alphabetical order.

	store		Take a snapshot of currently loaded modules and log them to the database file.  Note that this operation collects a cumulative list of all modules probed and only logs ones that modprobed_db has not seen before.

	recall	Call modprobe for every module contained in the datebase file.

QUICK SETUP

1. Optionally edit /etc/modprobed_db.conf to define the path to the database (default is /var/log).
	
2. Edit /etc/modprobed_db.conf to define modules to ignore in the ignore array. For example, modules that are not a provided by the Linux kernel package and are provided by an external package. The examples provided are a few suggestions specific to Arch Linux.

3. Add an entry to the root crontab to have the script run at some regular interval via crontab -e as the root user.

	For example, once every 5 min:
	*/5 * * * *     /usr/bin/modprobed_db store &> /dev/null
	
	For example, once every hour:
	0 */1 * * *     /usr/bin/modprobed_db store &> /dev/null
	
For more, see: https://wiki.archlinux.org/index.php/Modprobed_db

SEE ALSO
	modprobe(8)
	
BUGS
	No known bugs.

AUTHOR
	graysky (graysky AT archlinux DOT us)
